---
title: Start
layout: default
nav_order: 2
lang: fa
---

<p dir="rtl">
این صفحه اول و شروع آموزش استفاده از waterwall هست
</p>



<p dir="rtl">
واتروال یه هسته هست؛ در کل یعنی اینکه این برنامه فقط برای یه روش تونل خاص نیست و روش های زیادی داره که می‌توانید
انتخاب کنید و اجرا کنید
</p>


<p dir="rtl">
درکل تمرکز اصلی این پروژه اول این بوده که بشه باهاش یه تونل خوب اجرا کرد
</p>


<p dir="rtl">
ولی بعد از تونل هدف این بوده که بشه باهاش کانفیگ مستقیم هم ساخت که باهاش فایروال ایران رو برسی کنیم و هرچی دستگیرمون شد روش اجرا کنیم تا 
 جلوی فیلتر شدنش رو هم بگیریم، و با اخرین تغییرات فایروال ایران پیش بریم
</p>

<p dir="rtl">
برای اجرای هسته نیازه که ۲ تا فایل json بزاریم کنار فایل اجرایی waterwall
</p>

<p dir="rtl">
فایل اول باید اسمش باشه core.json
</p>

<p dir="rtl">
توی این فایل تنظیماتی مثل لاگ ها و تعداد ترد ها قرار می‌دیم
مثلا می‌گیم کدوم لاگ ها رو می‌خوایم ببینیم و تا چه حد،
</p>

<p dir="rtl">
 آیا لاگ شبکه رو می‌خوام ؟ آیا لاگ dns رو می‌خوام؟ و غیره
</p>

<p dir="rtl">
همچنین می‌شه لاگ هر بخش توی فایل جدا ذخیره بشه و حتی توی کنسول هم نوشته بشه 
و تنظیمات دیگه هم از جمله تعداد ترد های برنامه هست که اگه تنظیم نکنید به صورت پیشفرض برابر با تعداد هسته های cpu سرور هست
</p>


<p dir="rtl">
توضیحات کامل و مثال این فایل در [این لینک](file-core.json) هست که در نهایت فایل core.json رو با تنظیمات دلخواه ؛ قرار بدید
</p>

* * *

<p dir="rtl">
سپس یه فایل json بعدی داریم به اسم config.json 
که البته اسم این فایل رو شما توی core.json گفتید پس اسمش رو هرچی خواستید می‌تونید بزارید
</p>
<p dir="rtl">
این فایل درحقیقت کانفیگ اصلی هست که توضیح میده چه تونلی باید اجرا بشه و پروتکل چی هست
برای ساخت این فایل باید [این صفحه](file-config.json) رو بخونید و مثال هاش هم که میشه همون روش های تونل، هرکودوم با اسم خودشون page  دارن که توی منوی گیت هاب می‌تونید ببینید
</p>
<p dir="rtl">
توضیح کوتاه این فایل اینجوریه که، شما پروتکلی که می‌خواید اجرا بشه رو به صورت protocol stack توصیف می‌کنید 
و بعد برنامه از اون به عنوان دستورالعمل استفاده میکنه برای ساخت پروتکل ؛ یه جورایی شبیه کد نویسی هم هست و میشه باهاش بی نهایت شکل مختلف پروتوکل درست کرد
و اجرا کرد ولی خوب برای اینکار نیاز به اطلاعات عمومی از شبکه و پروتوکل ها هم هست؛ که نیاز نیست اصلا شما درگیر این موضوعات بشید
و برای تمام روش های مطرح که نیازه بدونید فایل و توضیحاتش قرار داده میشه در wiki 
</p>

* * *


اجرای عادی برنامه هم اینطوریه 


```sh
./Waterwall
```

<p dir="rtl">
که پارامتر خاصی برای ورودی نمی‌گیره چون اطلاعات لازم رو از فایل core.json بدست میاره
</p>
<p dir="rtl">
و احتمال زیاد هم می‌دونید ؛ برنامه هایی که ران می‌کنید به این صورت ؛ بعد از بستن ssh برنامه هم بسته میشه
</p>
<p dir="rtl">
برای اینکه این اتفاق نیفته راه های مختلف و ساده ای هستن مثل tmux, nohup, screen,service  و غیره
</p>
<p dir="rtl">
برای مثال می‌توانید اینجوری اجرا کنید تا برنامه باقی بمونه در پس زمینه
</p>


```sh
nohup ./Waterwall &
```


[Homepage](.) | [Next Page](file-core.json)